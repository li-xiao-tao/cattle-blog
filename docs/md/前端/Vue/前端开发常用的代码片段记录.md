## ElementUI的el-table进行单元格的合并示例

```vue
<template>
  <!-- 合并单元格的案例 -->
  <div class="merge-cell-demo">
    <el-table :data="tableData">
      <el-table-column
        label="类型"
        prop="type"
        min-width="100"
        show-overflow-tooltip
      >
        <template slot-scope="scope">
          {{ typeMap[scope.row.type] }}
        </template>
      </el-table-column>
      <el-table-column
        label="字段名称"
        prop="fieldName"
        min-width="100"
        show-overflow-tooltip
      />
      <el-table-column
        label="值"
        prop="value"
        min-width="100"
        show-overflow-tooltip
      />
    </el-table>
  </div>
</template>

<script>
export default {
  data() {
    return {
      // 表格的数据，按照type的类型进行单元格的合并
      detailTableData: [
        { id: "001", type: "01", fieldName: "字段名称1", value: "值1" },
        { id: "002", type: "01", fieldName: "字段名称2", value: "值2" },
        { id: "003", type: "01", fieldName: "字段名称3", value: "值3" },
        { id: "004", type: "01", fieldName: "字段名称4", value: "值4" },
        { id: "005", type: "02", fieldName: "字段名称5", value: "值5" },
        { id: "006", type: "02", fieldName: "字段名称6", value: "值6" },
        { id: "007", type: "02", fieldName: "字段名称7", value: "值7" },
        { id: "008", type: "02", fieldName: "字段名称8", value: "值8" },
        { id: "009", type: "02", fieldName: "字段名称9", value: "值9" },
        { id: "010", type: "02", fieldName: "字段名称10", value: "值10" },
        { id: "011", type: "02", fieldName: "字段名称11", value: "值11" },
        { id: "012", type: "02", fieldName: "字段名称12", value: "值12" },
        { id: "013", type: "02", fieldName: "字段名称13", value: "值13" },
        { id: "014", type: "03", fieldName: "字段名称14", value: "值14" },
        { id: "015", type: "03", fieldName: "字段名称15", value: "值15" },
        { id: "016", type: "03", fieldName: "字段名称16", value: "值16" },
        { id: "017", type: "04", fieldName: "字段名称17", value: "值17" },
        { id: "019", type: "04", fieldName: "字段名称18", value: "值18" },
      ],
      typeMap: {
        "01": "基础信息",
        "02": "运维信息",
        "03": "测试信息",
        "04": "开发信息",
      },
    };
  },

  methods: {
    // 重新设置合并的下标数组
    setData() {
      // rowNumArr的为一项为需要合并的单元格数和数据一一对应
      this.rowNumArray = [];
      this.detailTableData.forEach((item, index, array) => {
        if (index) {
          // 和上一个对比字段是否需要合并
          if (item.type === array[index - 1].type) {
            // rowNumArr当前的当前项加一后，要添加一个特殊数据项，用于后续判断显示占横向单元格的数量，可以是0也可以是其他
            this.rowNumArray[this.tagRowIndex] += 1;
            this.rowNumArray.push(0);
          } else {
            // 不符合合并条件则添加1个单元格进去，并且记录当前下标
            this.rowNumArray.push(1);
            this.tagRowIndex = index;
          }
        } else {
          // 第一条数据一定有1个单元格
          this.rowNumArray.push(1);
          this.tagRowIndex = 0;
        }
      });
    },

    // 合并单元格的操作
    objectSpanMethod(row, column, rowIndex, columnIndex) {
      // 对第一列和第二列的单元格进行合并的操作
      if (columnIndex === 0 || columnIndex === 1) {
        // 获取当前行的需要合并的单元格数
        const rowNum = this.rowNumArray[rowIndex];
        if (rowNum) {
          // 一个单元格纵向横向合并的单元格数量
          return {
            rowspan: rowNum, // 纵向合并单元格的数量
            colspan: rowNum > 0 ? 1 : 0, // 横向合并单元格的数量，纵向单元格数是0的话说明他是被合并的，横向单元格数也就为0不显示了，这里不考虑横向合并所以写死的是1
          };
        } else {
          // 被合并项设置为0，即不显示单元格
          return {
            rowspan: 0,
            colspan: 0,
          };
        }
      }
    },
  },
};
</script>
```



